!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e=e||self).Site=t(e.jQuery)}(this,function(a){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),i=this;do{for(t=n.length;0<=--t&&n.item(t)!==i;);}while(t<0&&(i=i.parentElement));return i}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){var n=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var r=n[o];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},writable:!0,configurable:!0});var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(function(e,t){e.exports=function o(r,s,a){function c(t,e){if(!s[t]){if(!r[t]){if(!e&&d)return d();if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[t]={exports:{}};r[t][0].call(i.exports,function(e){return c(r[t][1][e]||e)},i,i.exports,o,r,s,a)}return s[t].exports}for(var l=d,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(s,_,e){(function(r){(function(){function a(){}var e,c,l=!("undefined"==typeof window)&&function(){var e;try{e=window.localStorage}catch(e){}return e}(),t=l&&l.andlogKey?l.andlogKey:"debug",n=!(!l||!l[t])&&l[t],d=s("andlog"),u=Function.prototype.bind,f=0,m=!0,h="|",v=15,p=l&&l.debugColors?"false"!==l.debugColors:function(){if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var e,t,n=!!window.chrome,i=/firefox/i.test(navigator.userAgent),o=r&&r.versions&&r.versions.electron;return!i||(t=navigator.userAgent.match(/Firefox\/(\d+\.\d+)/))&&t[1]&&Number(t[1])&&(e=Number(t[1])),n||31<=e||o}(),g=!1,y={};n&&"!"===n[0]&&"/"===n[1]&&(g=!0,n=n.slice(1)),c=n&&"/"===n[0]&&new RegExp(n.substring(1,n.length-1));for(var b=["log","debug","warn","error","info"],i=0,o=b.length;i<o;i++)a[b[i]]=a;(e=function(e){if(!l)return a;var t;if(m?(i=e.slice(0,v),i+=Array(v+3-i.length).join(" ")+h):i=e+Array(3).join(" ")+h,c){var n=e.match(c);if(!g&&!n||g&&n)return a}if(!u)return a;var i,o,r,s=[d];return p?(y[e]||(y[e]=(f+=.618033988749895,360*(f%=1))),i="%c"+i,o="color: hsl("+y[e]+",99%,40%); font-weight: bold",s.push(i,o)):s.push(i),1<arguments.length&&(r=Array.prototype.slice.call(arguments,1),s=s.concat(r)),t=u.apply(d.log,s),b.forEach(function(e){t[e]=u.apply(d[e]||t,s)}),t}).config=function(e){e.padLength&&(v=e.padLength),"boolean"==typeof e.padding&&(m=e.padding),e.separator?h=e.separator:!1!==e.separator&&""!==e.separator||(h="")},void 0!==_?_.exports=e:window.bows=e}).call()}).call(this,s("_process"))},{_process:3,andlog:2}],2:[function(e,a,c){!function(){var e="undefined"==typeof window,t=!e&&function(){var e;try{e=window.localStorage}catch(e){}return e}(),n={};if(e||!t)return a.exports=console;var i=t.andlogKey||"debug";if(t&&t[i]&&window.console)n=window.console;else for(var o="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r=o.length,s=function(){};r--;)n[o[r]]=s;void 0!==c?a.exports=n:window.console=n}()},{}],3:[function(e,t,n){function i(){}var o=t.exports={};o.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;(t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),0<n.length)&&n.shift()()},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")}},{}]},{},[1])(1)});function s(e){var t={selectors:['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]',"object","embed","video"]};e&&(Array.isArray(e)||(e=[e]),t.selectors=t.selectors.concat(opts.selectors).filter(function(e,t,n){return n.indexOf(e)===t}));var n=Array.prototype.slice.call(document.querySelectorAll(t.selectors.join(",")));return 0<n.length&&n.forEach(function(e){var t,n,i;e.getAttribute("data-fitvid")||(t=document.createElement("div"),i=100*(0<(n=window.getComputedStyle(e)).height&&0<n.width?n.height/n.width:9/16),t.className="fitvid",t.style.width="100%",t.style.height=0,t.style.position="relative",t.style.paddingTop=i+"%",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.setAttribute("data-fitvid",i),e.parentNode.insertBefore(t,e),t.appendChild(e))}),n}var i=n("keyboardFocus"),o="keyboard--focus",r=!1;var c={init:function(){window.addEventListener("keydown",function(e){e.defaultPrevented||r||"Tab"!==e.key&&"Enter"!==e.key&&!e.altKey||(r=!0,document.body.classList.add(o),i("site.keyboardFocus",r))}),window.addEventListener("mousedown",function(e){!e.defaultPrevented&&r&&(r=!1,document.body.classList.remove(o),i("site.keyboardFocus",r))})}},l={xlarge:[],large:[],medium:[],small:[],any:[],body:document.body,small_max:640,medium_max:1024,large_max:1200,pause:100,currentSize:"",previousSize:""};var u={init:function(){var e,t=this;t.getCurrent(t.getWidth()),t.runFunctions(),window.onresize=function(){clearTimeout(e),e=setTimeout(function(){t.sizeCheck()},l.pause)}},addXlarge:function(e,t){l.xlarge.push([e,t])},addLarge:function(e,t){l.large.push([e,t])},addMedium:function(e,t){l.medium.push([e,t])},addSmall:function(e,t){l.small.push([e,t])},addAny:function(e,t){l.any.push([e,t])},getWidth:function(){return l.body.clientWidth},getCurrent:function(e){return l.previousSize=l.currentSize,e<=l.small_max?l.currentSize="small":e>l.small_max&&e<=l.medium_max?l.currentSize="medium":e>l.medium_max&&e<=l.large_max?l.currentSize="large":l.currentSize="xlarge",l.currentSize},runFunctions:function(){if(l.body.classList.remove("size--xlarge"),l.body.classList.remove("size--large"),l.body.classList.remove("size--medium"),l.body.classList.remove("size--small"),"small"===l.currentSize){l.body.classList.add("size--small");for(var e=0;e<l.small.length;e++)l.small[e][0].apply(this,l.small[e][1])}else if("medium"===l.currentSize){l.body.classList.add("size--medium");for(e=0;e<l.medium.length;e++)l.medium[e][0].apply(this,l.medium[e][1])}else if("large"===l.currentSize){l.body.classList.add("size--large");for(e=0;e<l.large.length;e++)l.large[e][0].apply(this,l.large[e][1])}else if("xlarge"===l.currentSize){l.body.classList.add("size--xlarge");for(e=0;e<l.xlarge.length;e++)l.xlarge[e][0].apply(this,l.xlarge[e][1])}for(e=0;e<l.any.length;e++)l.any[e][0].apply(this,l.any[e][1])},sizeCheck:function(){if(this.getCurrent(this.getWidth())===l.previousSize)return!1;this.runFunctions()}},f="bfred-it:object-fit-images",m=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,h="undefined"==typeof Image?{style:{"object-position":1}}:new Image,v="object-fit"in h.style,p="object-position"in h.style,g="background-size"in h.style,y="string"==typeof h.currentSrc,b=h.getAttribute,_=h.setAttribute,w=!1;function L(e,t,n){var i="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(t||1)+"' height='"+(n||0)+"'%3E%3C/svg%3E";b.call(e,"src")!==i&&_.call(e,"src",i)}function E(e,t){e.naturalWidth?t(e):setTimeout(E,100,e,t)}function A(t){var n,i,e,o,r=function(e){for(var t,n=getComputedStyle(e).fontFamily,i={};null!==(t=m.exec(n));)i[t[1]]=t[2];return i}(t),s=t[f];if(r["object-fit"]=r["object-fit"]||"fill",!s.img){if("fill"===r["object-fit"])return;if(!s.skipTest&&v&&!r["object-position"])return}if(!s.img){s.img=new Image(t.width,t.height),s.img.srcset=b.call(t,"data-ofi-srcset")||t.srcset,s.img.src=b.call(t,"data-ofi-src")||t.src,_.call(t,"data-ofi-src",t.src),t.srcset&&_.call(t,"data-ofi-srcset",t.srcset),L(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{n=t,i={get:function(e){return n[f].img[e||"src"]},set:function(e,t){return n[f].img[t||"src"]=e,_.call(n,"data-ofi-"+t,e),A(n),e}},Object.defineProperty(n,"src",i),Object.defineProperty(n,"currentSrc",{get:function(){return i.get("currentSrc")}}),Object.defineProperty(n,"srcset",{get:function(){return i.get("srcset")},set:function(e){return i.set(e,"srcset")}})}catch(e){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}(e=s.img).srcset&&!y&&window.picturefill&&(e[(o=window.picturefill._).ns]&&e[o.ns].evaled||o.fillImg(e,{reselect:!0}),e[o.ns].curSrc||(e[o.ns].supported=!1,o.fillImg(e,{reselect:!0})),e.currentSrc=e[o.ns].curSrc||e.src),t.style.backgroundImage='url("'+(s.img.currentSrc||s.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=r["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(r["object-fit"])?E(s.img,function(){s.img.naturalWidth>t.width||s.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=r["object-fit"].replace("none","auto").replace("fill","100% 100%"),E(s.img,function(e){L(t,e.naturalWidth,e.naturalHeight)})}function S(e,t){var n=!w&&!e;if(t=t||{},e=e||"img",p&&!t.skipTest||!g)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var i=0;i<e.length;i++)e[i][f]=e[i][f]||{skipTest:t.skipTest},A(e[i]);n&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&S(e.target,{skipTest:t.skipTest})},!0),w=!0,e="img"),t.watchMQ&&window.addEventListener("resize",S.bind(null,e,{skipTest:t.skipTest}))}function k(e,t){return e[f]&&e[f].img&&("src"===t||"srcset"===t)?e[f].img:e}S.supportsObjectFit=v,(S.supportsObjectPosition=p)||(HTMLImageElement.prototype.getAttribute=function(e){return b.call(k(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,t){return _.call(k(this,e),e,String(t))});var x=S,T=n("modal"),q=document.querySelectorAll("[data-modal]"),j=document.querySelector("body"),C=document.getElementById("top"),z=document.getElementById("modal-overlay"),O=C.querySelectorAll("a,button,input,select,iframe,video,audio, textarea"),I="";function B(){var e=I.querySelector("video"),t=document.querySelector(".return_focus");I.classList.remove("modal--show"),e&&e.pause(),setTimeout(function(){I.setAttribute("aria-hidden",!0),j.classList.remove("modal-open")},250),O.forEach(function(e){e.removeAttribute("tabindex")}),t.focus(),t.classList.remove("return_focus")}function H(){var e=I.querySelector("video");j.classList.add("modal-open"),I.setAttribute("aria-hidden",!1),I.setAttribute("tabindex","-1"),setTimeout(function(){I.classList.add("modal--show")},150),(O=C.querySelectorAll("a,button,input,select,iframe,video,audio, textarea")).forEach(function(e){e.setAttribute("tabindex","-1")}),I.focus(),e&&e.play()}function W(){var e=this.getAttribute("data-modal");null!=(I=document.getElementById(e))&&(T(e),this.classList.add("return_focus"),H())}var M={init:function(){T("modal init"),q&&(document.querySelectorAll(".modal__close").forEach(function(e){e.addEventListener("click",B)}),q.forEach(function(e){e.addEventListener("click",W)}),document.addEventListener("keydown",function(e){("key"in(e=e||window.event)?"Escape"==e.key||"Esc"==e.key:27==e.keyCode)&&j.classList.contains("modal-open")&&B()})),z&&z.addEventListener("click",B)}},P=t(function(e,t){function n(){return"undefined"!=typeof window}function i(e,t){var n;t=t||{},Object.assign(this,i.options,t),this.classes=Object.assign({},i.options.classes,t.classes),this.elem=e,this.tolerance=(n=this.tolerance)===Object(n)?n:{down:n,up:n},this.initialised=!1,this.frozen=!1}e.exports=(i.prototype={constructor:i,init:function(){return i.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){function t(){var e=Math.round(l.scrollY()),t=l.height(),n=l.scrollHeight();u.scrollY=e,u.lastScrollY=d,u.direction=d<e?"down":"up",u.distance=Math.abs(e-d),u.isOutOfBounds=e<0||n<e+t,u.top=e<=o.offset,u.bottom=n<=e+t,u.toleranceExceeded=u.distance>o.tolerance[u.direction],r(u),d=e,c=!1}function n(){c||(c=!0,s=requestAnimationFrame(t))}var i,o,r,s,a,c,l,d,u,f;e.scrollTracker=(i=e.scroller,o={offset:e.offset,tolerance:e.tolerance},r=e.update.bind(e),a=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),c=!1,l=function(e){return(function(e){return e&&e.document&&9===e.document.nodeType}(e)?function(e){var t=e.document,n=t.body,i=t.documentElement;return{scrollHeight:function(){return Math.max(n.scrollHeight,i.scrollHeight,n.offsetHeight,i.offsetHeight,n.clientHeight,i.clientHeight)},height:function(){return e.innerHeight||i.clientHeight||n.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(i||n.parentNode||n).scrollTop}}}:function(e){return{scrollHeight:function(){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},height:function(){return Math.max(e.offsetHeight,e.clientHeight)},scrollY:function(){return e.scrollTop}}})(e)}(i),d=l.scrollY(),u={},f=!!a&&{passive:!0,capture:!1},i.addEventListener("scroll",n,f),t(),{destroy:function(){cancelAnimationFrame(s),i.removeEventListener("scroll",n,f)}})},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add.apply(this.elem.classList,this.classes[e].split(" "))},removeClass:function(e){this.elem.classList.remove.apply(this.elem.classList,this.classes[e].split(" "))},hasClass:function(e){return this.classes[e].split(" ").every(function(e){return this.classList.contains(e)},this.elem)},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},i.options={tolerance:{up:0,down:0},offset:0,scroller:n()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=function(){return!!(n()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame)}(),i)}),F=function(i,o,r){var s,a,c,l,t=!1,d=!1,n={},u=0,f=0,m={sensitivity:7,interval:100,timeout:0,handleFocus:!1};function h(e){s=e.clientX,a=e.clientY}function e(e){return t=!0,f=f&&clearTimeout(f),i.removeEventListener("mousemove",h,!1),1!==u&&(c=e.clientX,l=e.clientY,i.addEventListener("mousemove",h,!1),f=setTimeout(function(){!function e(t,n){if(f=f&&clearTimeout(f),Math.abs(c-s)+Math.abs(l-a)<m.sensitivity)return u=1,!d&&o.call(t,n);c=s,l=a,f=setTimeout(function(){e(t,n)},m.interval)}(i,e)},m.interval)),this}function v(n){return t=!1,f=f&&clearTimeout(f),i.removeEventListener("mousemove",h,!1),1===u&&(f=setTimeout(function(){var e,t;e=i,t=n,f=f&&clearTimeout(f),u=0,d||r.call(e,t)},m.timeout)),this}function p(e){t||(d=!0,o.call(i,e))}function g(e){!t&&d&&(d=!1,r.call(i,e))}function y(){i.removeEventListener("focus",p,!1),i.removeEventListener("blur",g,!1)}return n.options=function(e){var t=e.handleFocus!==m.handleFocus;return m=Object.assign({},m,e),t&&(m.handleFocus?(i.addEventListener("focus",p,!1),i.addEventListener("blur",g,!1)):y()),n},n.remove=function(){i&&(i.removeEventListener("mouseover",e,!1),i.removeEventListener("mouseout",v,!1),y())},i&&(i.addEventListener("mouseover",e,!1),i.addEventListener("mouseout",v,!1)),n};n("overlays");var N={isElementInViewport:function(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isAnyPartOfElementInViewport:function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,o=t.top<=n&&0<=t.top+t.height,r=t.left<=i&&0<=t.left+t.width;return o&&r}},D=document.querySelector(".alert-content"),U=document.getElementById("header"),Y=document.querySelectorAll(".alert__close"),V=document.querySelectorAll(".alert"),K=document.querySelector("body"),R=n("alerts");function Q(){U&&D&&(U.style.top=D.offsetHeight+"px")}function $(){var e=this.closest(".alert");!0===e.classList.contains("alert--emergency")&&K.classList.remove("alert-emergency"),R(e.dataset.alert),e.style.display="none",e.dataset.alert&&localStorage.setItem(e.dataset.alert,!0),setTimeout(function(){Q()},100)}window.clearAlert=function(){localStorage.removeItem("emergency"),localStorage.removeItem("primary"),localStorage.removeItem("secondary"),R("alerts cleared")};var G={init:function(){D&&(Q(),Y.forEach(function(e){e.addEventListener("click",$)}),V.forEach(function(e){e.dataset.alert&&localStorage.getItem(e.dataset.alert)?e.style.display="none":(!0===e.classList.contains("alert--emergency")&&!1===K.classList.contains("styleguide")&&K.classList.add("alert-emergency"),K.classList.add("has-alerts"),e.style.display="block"),Q()}),window.addEventListener("resize",Q))},alertHeight:Q},X=n("navigation"),J=document.body,Z=document.getElementById("top"),ee=document.getElementById("header"),te=document.getElementById("search__input"),ne=document.querySelector(".nav--primary"),ie=document.querySelector(".header__toggle-btn--menu"),oe=document.querySelectorAll(".nav__menu-button--level-1"),re=document.querySelectorAll(".nav__menu-button--level-0"),se=document.querySelectorAll('.nav__menu-link[data-level="0"]'),ae=document.querySelectorAll(".nav__menu-item--level-0.nav__menu-item--children"),ce=document.querySelectorAll(".header__toggle-btn--search"),le=document.querySelector(".search__close"),de=document.querySelector(".search--header"),ue=document.querySelector(".nav-dropdown"),fe=document.querySelector(".nav-dropdown__toggle-btn"),me=document.querySelectorAll(".nav--secondary > *:not(.nav-dropdown)"),he=document.querySelector(".skip-link--search"),ve=document.querySelector(".skip-link--resources"),pe=document.getElementById("headerMenus"),ge=document.querySelector(".nav--secondary");!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||void 0===document.body.style.webkitFilter||window.chrome||J.classList.add("isSafari"),X(G.alertHeight());var ye=!1,be=document.querySelector("main>*:first-child"),_e=!1,we=document.getElementById("header"),Le=new P(we,{offset:60,tolerance:{down:25,up:25},onNotTop:function(){J.classList.remove("search-open","search-opened")}}),Ee=Z.querySelectorAll("a,button,input,select,iframe,video,audio, textarea");function Ae(e){var t=document.querySelector(".return-focus");null!==t&&(!1!==e&&t.focus(),t.classList.remove("return-focus"))}function Se(){oe.forEach(function(e){Ie(e)})}function ke(e){void 0===e&&(e=!0),ee.querySelectorAll("[aria-expanded]").forEach(function(e){e.setAttribute("aria-expanded",!1)}),Ee.forEach(function(e){e.removeAttribute("tabindex")}),J.classList.remove("menu-open"),J.classList.remove("menu-opened"),1==a("body").hasClass("has-alerts")&&(0==a("#header").hasClass("headroom--not-top")&&a(".header").css({position:"absolute",top:Qe()+"px"}),a(".alert-content").css("visibility","visible"),0==a("#header").hasClass("headroom--not-top")&&a("#content").css("margin","0 0 0 0")),Ae(e),document.querySelectorAll(".nav__menu-button--open").forEach(function(e){Ie(e)})}function xe(){1==a("body").hasClass("has-alerts")&&(0==a("#header").hasClass("headroom--not-top")&&a(".header").css({position:"fixed",top:"0"}),a(".alert-content").css("visibility","hidden"),0==a("#header").hasClass("headroom--not-top")&&a("#content").css("margin","-"+Qe()+"px 0 0 0"))}function Te(e){setTimeout(function(){(1024<=J.clientWidth&&!ne.contains(document.activeElement)||J.clientWidth<1024&&!ee.contains(document.activeElement))&&ke(!1)}.bind(this),500)}function qe(e){setTimeout(function(){de.contains(document.activeElement)||Fe()}.bind(this),500)}function je(e){Ae(!1),e.classList.add("return-focus")}function Ce(){this.focus(),!1===J.classList.contains("menu-opened")?(Pe(),je(this),J.classList.add("menu-opened"),J.classList.add("menu-open"),xe(),setTimeout(function(){pe.querySelector("a").focus()},500)):ke()}function ze(e,t){e.classList.add("nav__submenu--visible"),setTimeout(function(){e.classList.add("nav__submenu--active")},t)}function Oe(e,t){e.classList.remove("nav__submenu--visible"),setTimeout(function(){e.classList.remove("nav__submenu--active")},t)}function Ie(e){var t,n,i,o;void 0!==e&&(e.classList.remove("nav__menu-button--open"),n=(t=e.closest(".nav__menu-item")).querySelector(".nav__submenu"),i=e.previousElementSibling,t.classList.remove("nav__menu-item--open"),e.setAttribute("aria-expanded",!1),i.classList.remove("nav__menu-link--active"),null!==(o=e.nextElementSibling)?Oe(o,5):n&&Oe(n,5))}function Be(){var e,t,n,i,o;this.focus(),!1===this.classList.contains("nav__menu-button--open")?(1024<=J.clientWidth&&Se(),t=(e=this).closest(".nav__menu-item"),n=t.querySelector(".nav__submenu"),i=t.querySelector(".nav__menu"),o=e.previousElementSibling,e.classList.add("nav__menu-button--open"),t.classList.add("nav__menu-item--open"),e.setAttribute("aria-expanded",!0),o.classList.add("nav__menu-link--active"),n?ze(n,5):i&&ze(i,5)):Ie(this)}function He(e,t){var n,i;1024<=document.body.clientWidth&&!1!==e?ae.forEach(function(e){var t=e.querySelector(".nav__menu-button--level-0"),n=e.querySelector(".nav__submenu"),i=e.closest(".nav__menu-item");t&&t.classList.remove("nav__menu-button--open"),n&&(n.classList.remove("nav__submenu--visible"),n.classList.remove("nav__submenu--active")),i&&i.classList.remove("nav__menu-item--open"),J.classList.remove("toplevel-opened")}):(n=t.closest("li").querySelector(".nav__submenu"),i=t.closest(".nav__menu-item"),t.setAttribute("aria-expanded",!1),t.classList.remove("nav__menu-button--open"),i.classList.remove("nav__menu-item--open"),J.classList.remove("toplevel-opened"),n&&(n.classList.remove("nav__submenu--visible"),setTimeout(function(){n.classList.remove("nav__submenu--active")},10)))}function We(){var e,t,n;this.focus(),this.classList.contains("nav__menu-button--open")?He(!1,this):(1024<=document.body.clientWidth&&(He(!0),je(this)),t=(e=this).closest("li").querySelector(".nav__submenu"),n=e.closest(".nav__menu-item"),e.setAttribute("aria-expanded",!0),e.classList.add("nav__menu-button--open"),n.classList.add("nav__menu-item--open"),J.classList.add("toplevel-opened"),t&&(t.classList.add("nav__submenu--visible"),setTimeout(function(){t.classList.add("nav__submenu--active")},10)),Pe())}function Me(){J.classList.add("search-opened"),setTimeout(function(){J.classList.add("search-open")},100),setTimeout(function(){te.focus()},800)}function Pe(){X("shouldCloseSearch"),!0===J.classList.contains("search-opened")&&Fe(!1)}function Fe(e){J.classList.remove("search-open"),setTimeout(function(){J.classList.add("search-closing")},100),setTimeout(function(){J.classList.remove("search-opened"),J.classList.remove("search-closing")},500),!1!==e&&Ae()}function Ne(){!1===J.classList.contains("search-opened")?(!0===J.classList.contains("menu-opened")&&ke(),1024<=document.body.clientWidth&&He(),je(this),Me()):Fe()}function De(){!0===J.classList.contains("search-open")&&Fe(!1),ke(),ue.classList.add("nav-dropdown--active"),fe.classList.add("nav__dropdown-toggle-btn--open"),fe.setAttribute("aria-expanded",!0)}function Ue(){ue.classList.remove("nav-dropdown--active"),fe.classList.remove("nav__dropdown-toggle-btn--open"),fe.setAttribute("aria-expanded",!1)}function Ye(){(!1===this.classList.contains("nav__dropdown-toggle-btn--open")?De:Ue)()}var Ve=document.querySelector(".alert-content");function Ke(){document.body.clientWidth<1024&&(!1===ye?!1===N.isAnyPartOfElementInViewport(Ve)&&(Le.init(),ye=!0,J.classList.add("header-sticky")):!0===N.isAnyPartOfElementInViewport(Ve)&&(Le.destroy(),ye=!1,J.classList.remove("header-sticky")))}function Re(){!1===ye?!1===N.isAnyPartOfElementInViewport(be)&&!1===_e&&(_e=!0,Le.init(),ye=!0,J.classList.add("hero-out"),setTimeout(function(){J.classList.add("hero-out--show")},250)):!0===N.isAnyPartOfElementInViewport(be)&&!0===_e&&!0===ye&&(_e=!1,J.classList.add("hero-leave"),J.classList.remove("hero-out--show"),setTimeout(function(){J.classList.remove("hero-leave"),J.classList.remove("hero-out"),Le.destroy(),ye=!1},250))}function Qe(){return ee&&Ve?Ve.offsetHeight:0}var $e={init:function(){var t,n,i,e=document.querySelectorAll(".nav--primary .nav__menu-item--level-0.nav__menu-item--children");"ontouchstart"in window||0<navigator.MaxTouchPoints||(t="nav__menu-item--active",n="nav__menu-item--visible",i={timeout:200},e.forEach(function(e){F(e,function(){1024<=document.body.clientWidth&&(He(),Fe()),e.classList.add(n),setTimeout(function(){e.classList.add(t)},100)},function(){e.classList.remove(t),setTimeout(function(){e.classList.remove(n),Se()},100)}).options(i)})),se&&se.forEach(function(e){e.addEventListener("focus",function(){1024<=document.body.clientWidth&&ke()})}),ie&&ie.addEventListener("click",Ce),ee&&ee.addEventListener("focusout",Te),re&&re.forEach(function(e){e.addEventListener("click",We)}),oe&&oe.forEach(function(e){e.addEventListener("click",Be)}),ce&&ce.forEach(function(e){e.addEventListener("click",Ne)}),le&&le.addEventListener("click",Fe),de&&de.addEventListener("focusout",qe),ue&&ue.addEventListener("mouseleave",function(){Ue()}),fe&&fe.addEventListener("click",Ye),he&&he.addEventListener("click",Me),ve&&ve.addEventListener("click",De),me&&me.forEach(function(e){e.addEventListener("focus",Ue)}),(ie||ce||fe)&&document.addEventListener("keydown",function(e){var t=!1;(t="key"in(e=e||window.event)?"Escape"==e.key||"Esc"==e.key:27==e.keyCode)&&(!0===J.classList.contains("menu-opened")||J.classList.contains("toplevel-opened"))&&ke(),t&&!0===J.classList.contains("search-opened")&&Fe(),t&&!0===ue.classList.contains("nav-dropdown--active")&&Ue()}),we&&(J.clientWidth<1024&&(Ve?Ke():(ye=!0,Le.init()),ge.lastElementChild.addEventListener("blur",function(){ie.focus()})),window.addEventListener("scroll",function(){Re(),Ve&&Ke()}),window.addEventListener("resize",function(){ye=!1,setTimeout(function(){J.clientWidth<1024?Ve?Ke():(ye=!0,Le.init()):Re()},100),J.classList.contains("menu-opened")&&xe()}))}},Ge=(n("video-inline"),document.querySelectorAll(".video-inline"));function Xe(e,t,n){"pause"===(e.querySelector(".a11y").innerHTML=t)?(e.classList.add("video-button--pause"),e.classList.remove("video-button--play")):(e.classList.remove("video-button--pause"),e.classList.add("video-button--play")),!0===n&&e.setAttribute("hidden",!0)}function Je(){Ge.forEach(function(e){var i=e.querySelector("video"),o=e.querySelector(".video-button--play-toggle");o&&o.addEventListener("click",function(){var e,t,n;t=o,(e=i).paused||e.ended?(Xe(t,"pause",null===(n=e.getAttribute("autoplay"))||!1===n),!0===e.classList.contains("video-inline__video--controls")&&e.setAttribute("controls",!0),e.play()):(Xe(t,"play",!1),!0===e.classList.contains("video-inline__video--controls")&&e.removeAttribute("controls"),e.pause())}),i&&(i.addEventListener("play",function(){Xe(o,"pause")},!1),i.addEventListener("pause",function(){Xe(o,"play")},!1))})}var Ze={init:function(){Ge.length&&Je()}},et=n("video-vimeo"),tt=document.querySelectorAll("[data-vimeo]");var nt={init:function(){var e,t;et("video vimeo"),tt.length&&(e=document.createElement("script"),t=document.getElementsByTagName("script")[0],e.src="https://player.vimeo.com/api/player.js",t.parentNode.insertBefore(e,t),a(window).on("load",function(){tt.forEach(function(e){var t=e.querySelector(".video-button--play"),n=e.getAttribute("data-vimeo"),i="vimeo_"+n,o={id:n,width:1450,autoplay:!1};e.querySelector(".video-vimeo__vimeo").setAttribute("id",i);var r=new Vimeo.Player(i,o);r.ready().then(function(){s()}),t&&t.addEventListener("click",function(){e.classList.remove("video-vimeo--poster"),e.classList.add("video-vimeo--hide-buttons"),r.play()})})}))}},it=n("filter"),ot=document.querySelectorAll(".filter");function rt(){ot.forEach(function(t){var n=t.querySelector(".filter__toggle"),e=t.querySelectorAll(".filter__trigger");n&&(n.addEventListener("click",function(){this.focus(),t.classList.toggle("filter--active")}),e.forEach(function(e){e.addEventListener("click",function(){!function(e,t,n){var i,o,r,s=t.querySelector('[aria-expanded="true"]'),a=e.getAttribute("aria-expanded"),c=e.dataset.controls,l=t.querySelector(".filter__trigger--active");l&&l.classList.remove("filter__trigger--active"),"false"===a&&(s&&(i=s.dataset.controls,o=document.getElementById(i),s.setAttribute("aria-expanded",!1),o.classList.remove("filter-section--active"),o.classList.remove("filter-section--showing")),r=document.getElementById(c),e.classList.add("filter__trigger--active"),e.setAttribute("aria-expanded",!0),r.classList.add("filter-section--active"),setTimeout(function(){r.classList.add("filter-section--showing")},50)),t.classList.toggle("filter--active");var d=e.innerHTML,u=n.querySelector(".filter__toggle__text");u&&(u.innerHTML=d),n.focus()}(this,t,n)})})),t.addEventListener("mouseleave",function(){it("mouseleave"),this.classList.remove("filter--active")}),t.addEventListener("focusout",function(){var e=this;setTimeout(function(){null===t.querySelector(":focus")&&e.classList.remove("filter--active")},500)})})}var st={init:function(){ot&&rt()}},at=n("hero"),ct=document.querySelector(".hero__content"),lt=document.querySelector(".hero__text"),dt=document.querySelector(".hero__excerpt"),ut=document.querySelector(".hero__link"),ft="hero__text--hover";var mt={init:function(){var e,t,n;dt&&(t=ft,n={timeout:200,interval:50},at(e=ct),F(e,function(){lt.classList.add(t)},function(){lt.classList.remove(t)}).options(n)),ut&&(ut.addEventListener("focus",function(){lt.classList.add(ft)}),ut.addEventListener("blur",function(){lt.classList.remove(ft)}))}},ht=(n("accordion-controls"),document.querySelectorAll(".js-wikit-accordion-toggle__btn"));function vt(){var e=this.dataset.toggle,t=this.closest(".js-wikit-accordion-group").querySelectorAll(".js-wikit-accordion__trigger");"expand"===e?t.forEach(function(e){"false"===e.getAttribute("aria-expanded")&&e.click()}):"collapse"===e&&t.forEach(function(e){"true"===e.getAttribute("aria-expanded")&&e.click()})}var pt={init:function(){ht.forEach(function(e){e.addEventListener("click",vt)})}};var gt={init:function(){Array.prototype.slice.call(document.querySelectorAll(".js-wikit-accordion")).forEach(function(a){var e,c=a.hasAttribute("data-allow-multiple"),o=c||a.hasAttribute("data-allow-toggle"),l=Array.prototype.slice.call(a.querySelectorAll(".js-wikit-accordion__trigger"));a.addEventListener("click",function(e){e.stopPropagation();var t,n,i=e.target;i.classList.contains("js-wikit-accordion__trigger")&&!1===i.classList.contains("js-wikit-accordion__trigger--animating")&&(t="true"==i.getAttribute("aria-expanded"),n=a.querySelector('[aria-expanded="true"]'),i.classList.add("js-wikit-accordion__trigger--animating"),setTimeout(function(){i.classList.remove("js-wikit-accordion__trigger--animating"),console.log("removed Class")},1e3),!c&&n&&n!==i&&(n.setAttribute("aria-expanded","false"),n.closest(".js-wikit-accordion__item").classList.remove("is-expanded"),document.getElementById(n.getAttribute("aria-controls")).classList.remove("js-wikit-accordion__panel--open"),setTimeout(function(){document.getElementById(n.getAttribute("aria-controls")).setAttribute("hidden","")},1e3),o||n.removeAttribute("aria-disabled")),t?o&&t&&(i.setAttribute("aria-expanded","false"),i.closest(".js-wikit-accordion__item").classList.remove("is-expanded"),document.getElementById(i.getAttribute("aria-controls")).classList.remove("js-wikit-accordion__panel--open"),setTimeout(function(){document.getElementById(i.getAttribute("aria-controls")).setAttribute("hidden","")},1e3)):(i.setAttribute("aria-expanded","true"),i.closest(".js-wikit-accordion__item").classList.add("is-expanded"),document.getElementById(i.getAttribute("aria-controls")).removeAttribute("hidden"),setTimeout(function(){document.getElementById(i.getAttribute("aria-controls")).classList.add("js-wikit-accordion__panel--open")},10),o||i.setAttribute("aria-disabled","true")),e.preventDefault())}),a.addEventListener("keydown",function(e){var t=e.target,n=e.which.toString(),i=(t.getAttribute("aria-expanded"),c||a.hasAttribute("data-allow-toggle"),e.ctrlKey&&n.match(/33|34/));if(null!=t&&t.classList.contains("js-wikit-accordion__trigger"))if(n.match(/38|40/)||i){var o=l.indexOf(t),r=n.match(/34|40/)?1:-1,s=l.length;l[(o+s+r)%s].focus(),e.preventDefault()}else if(n.match(/35|36/)){switch(n){case"36":l[0].focus();break;case"35":l[l.length-1].focus()}e.preventDefault()}}),a.querySelectorAll(".js-wikit-accordion__trigger").forEach(function(e){e.addEventListener("focus",function(e){a.classList.add("focus")}),e.addEventListener("blur",function(e){a.classList.remove("focus")})}),o||(e=a.querySelector('[aria-expanded="true"]'))&&e.setAttribute("aria-disabled","true")}),pt.init()}},yt=document.querySelectorAll(".js-wikit-tabbed"),bt=document.querySelectorAll(".accordion-toggle-tab");function _t(n,a,c,e){function o(e,t,n){!1!==n?t.focus():t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),t.removeAttribute("tabindex"),e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-selected","false");var i=Array.prototype.indexOf.call(a,t),o=Array.prototype.indexOf.call(a,e);c[o].hidden=!0,c[i].hidden=!1;var r=e.getAttribute("href").split("#"),s=t.getAttribute("href").split("#"),r=document.querySelector('.accordion-toggle-tab[aria-controls="'+r[1]+'"]'),s=document.querySelector('.accordion-toggle-tab[aria-controls="'+s[1]+'"]');r&&r.setAttribute("aria-expanded","false"),s&&s.setAttribute("aria-expanded","true"),window.dispatchEvent(new Event("resize")),window.upennsliders.forEach(function(e){e.slick("setPosition")})}n.setAttribute("role","tablist"),Array.prototype.forEach.call(a,function(e,i){e.setAttribute("role","tab"),e.setAttribute("tabindex","-1"),e.parentNode.setAttribute("role","presentation"),e.addEventListener("click",function(e){e.preventDefault();var t=n.querySelector('[aria-selected="true"]');e.currentTarget!==t&&o(t,e.currentTarget,!0)}),e.addEventListener("keydown",function(e){var t=Array.prototype.indexOf.call(a,e.currentTarget),n=37===e.which?t-1:39===e.which?t+1:40===e.which?"down":null;null!==n&&(e.preventDefault(),"down"===n?c[i].focus():a[n]&&o(e.currentTarget,a[n]))})}),Array.prototype.forEach.call(c,function(e,t){e.setAttribute("role","tabpanel"),e.setAttribute("tabindex","-1");e.getAttribute("id");e.setAttribute("aria-labelledby",a[t].id),e.hidden=!0}),a[0].removeAttribute("tabindex"),a[0].setAttribute("aria-selected","true"),Array.prototype.forEach.call(e,function(e){e.setAttribute("aria-expanded",!1)}),e[0].setAttribute("aria-expanded",!0),c[0].hidden=!1}var wt={init:function(){if(0<yt.length){for(var e,t=0;t<yt.length;t++){var n=yt[t].querySelector("ul"),i=n.querySelectorAll("a");_t(n,i,yt[t].querySelectorAll('[id^="tabpanel"]'),yt[t].querySelectorAll(".accordion-toggle-tab"))}window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){document.querySelectorAll(".accordion-toggle-tab").forEach(function(e){var t=e.nextElementSibling.getAttribute("hidden");null!==t&&!0!==t&&e.setAttribute("aria-expanded",!1)}),1024<=window.innerWidth&&document.querySelectorAll(".tablist--fix").forEach(function(e){var t=e.closest(".js-wikit-tabbed").querySelectorAll(".wikit-tab"),n=e.querySelector('[aria-selected="true"]').getAttribute("href").split("#"),i=document.getElementById(n[1]);e.classList.remove("tablist--fix"),t.forEach(function(e){e.setAttribute("hidden","hidden")}),i&&i.removeAttribute("hidden")})},250)})}Array.prototype.forEach.call(bt,function(e){var r=e,s=e.nextElementSibling;r.onclick=function(){var e="true"===r.getAttribute("aria-expanded");r.setAttribute("aria-expanded",!e),s.hidden=e;var t,n,i=s.getAttribute("id"),o=document.querySelector('.tab-nav__link[href="#'+i+'"]');o&&(n=(t=o.parentElement.parentElement).querySelectorAll('a[role="tab"]'),t.classList.add("tablist--fix"),Array.prototype.forEach.call(n,function(e){e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-selected","false")}),o.setAttribute("aria-selected","true"),o.removeAttribute("tabindex")),window.dispatchEvent(new Event("resize")),window.upennsliders.forEach(function(e){e.slick("setPosition")})}})}},Lt=n("link-grid"),Et=document.getElementById("linkGrid"),At=document.querySelectorAll(".link-grid__image"),St=document.querySelectorAll(".link-grid__link");function kt(e){var t,n=Et.querySelector("."+e);n&&!1===n.classList.contains("link-grid__image--active")&&((t=Et.querySelector(".link-grid__image--active"))&&(t.classList.remove("link-grid__image--opacity"),setTimeout(function(){t.classList.remove("link-grid__image--active")},500)),n.classList.add("link-grid__image--active"),setTimeout(function(){n.classList.add("link-grid__image--opacity")},20))}var xt={init:function(){var e,n,i;St&&(n="link-grid__item--active",i={timeout:250},Lt(e=St),e.forEach(function(t){F(t,function(){t.classList.add(n);var e=t.dataset.grid;Lt(e),kt(e)},function(){t.classList.remove(n)}).options(i)}),St.forEach(function(e){e.addEventListener("focus",function(){kt(this.dataset.grid)})}))},loadAllGrid:function(){At.forEach(function(e){e.classList.add("link-grid__image--loading"),setTimeout(function(){e.classList.remove("link-grid__image--loading")},100)})}};jQuery.expr[":"].Contains=function(e,t,n){return 0<=jQuery(e).text().toUpperCase().indexOf(n[3].toUpperCase())};var Tt=a("#a-z-search"),qt=n("a-to-z"),jt="",Ct="",zt=a("#a-to-z-no-results"),Ot="ALL";function It(e){Ot=e,a(".a-z-search__button--active").removeClass("a-z-search__button--active"),a('.a-z-search__button[value="'+e+'"]').addClass("a-z-search__button--active"),a(".a-z-search__select").find('option[value="'+e+'"]').prop("selected",!0),"ALL"===e?(jt.css("display","block"),Ht()):(jt.hide(),a('.a-to-z[data-letter="'+e+'"]').css("display","block")),Bt()}function Bt(){var e="",t=(e=a("ALL"===Ot?"#content":'[data-letter="'+Ot+'"]')).find(".a-to-z__item"),n=e.find(".a-to-z__item--hidden");t.length===n.length?zt.addClass("no-results--active"):zt.removeClass("no-results--active")}function Ht(){jt.each(function(){var e=a(this),t=e.find(".a-to-z__item"),n=e.find(".a-to-z__item--hidden");t.length===n.length?e.hide():e.css("display","block")})}var Wt={init:function(){Tt.length&&(jt=a(".a-to-z"),Ct=a(".a-to-z__item"),Tt.on("click",".a-z-search__button",function(){var e=a(this);!1===e.hasClass("a-z-search__button--active")&&It(e.val().toUpperCase())}),a(".a-z-search__input").on("keyup",function(){var e=a(this).val();qt(e),1<=e.length?(Ct.addClass("a-to-z__item--hidden"),a(".a-to-z__item:Contains('"+e+"')").removeClass("a-to-z__item--hidden")):(Ct.removeClass("a-to-z__item--hidden"),zt.removeClass("no-results--active")),Bt(),"ALL"===Ot&&Ht()}),a(".a-z-search__select").on("change",function(){It(a(this).val().toUpperCase())}),a(".a-z-search__form").on("submit",function(){var e=this;return a(this).attr("tabindex","-1").focus(),setTimeout(function(){a(e).removeAttr("tabindex")},100),!1}))}},Mt=(n("general"),a("body")),Pt=a("#header"),Ft=a("figcaption");function Nt(){Ft.each(function(){var e,t=a(this),n=t.closest("figure").find("img").eq(0);n.length&&(e=n.width(),t.css("max-width",e))})}var Dt={init:function(){a(".footer__to-top, .jump-link").on("click",function(){var e,t,n,i;return e=a(this),t=e.attr("href"),n=a(t),i=n.offset().top-Pt.height(),"#top"===t&&(i=0),a("html,body").animate({scrollTop:i},"slow",function(){"#top"!==t?n.focus():(Mt.attr("tabindex","-1"),Mt.focus(),setTimeout(function(){Mt.removeAttr("tabindex")},100))}),!1}),a(".modal").detach().insertAfter("#modal-overlay"),a(window).on("load",function(){Nt()}).on("resize",function(){clearTimeout(void 0);setTimeout(function(){Nt()},100)})}},Ut="Expected a function",Yt=NaN,Vt="[object Symbol]",Kt=/^\s+|\s+$/g,Rt=/^[-+]0x[0-9a-f]+$/i,Qt=/^0b[01]+$/i,$t=/^0o[0-7]+$/i,Gt=parseInt,Xt="object"==typeof e&&e&&e.Object===Object&&e,Jt="object"==typeof self&&self&&self.Object===Object&&self,Zt=Xt||Jt||Function("return this")(),en=Object.prototype.toString,tn=Math.max,nn=Math.min,on=function(){return Zt.Date.now()};function rn(i,o,e){var r,s,a,c,l,d,u=0,f=!1,m=!1,t=!0;if("function"!=typeof i)throw new TypeError(Ut);function h(e){var t=r,n=s;return r=s=void 0,u=e,c=i.apply(n,t)}function v(e){var t=e-d;return void 0===d||o<=t||t<0||m&&a<=e-u}function p(){var e,t,n=on();if(v(n))return g(n);l=setTimeout(p,(t=o-((e=n)-d),m?nn(t,a-(e-u)):t))}function g(e){return l=void 0,t&&r?h(e):(r=s=void 0,c)}function n(){var e,t=on(),n=v(t);if(r=arguments,s=this,d=t,n){if(void 0===l)return u=e=d,l=setTimeout(p,o),f?h(e):c;if(m)return l=setTimeout(p,o),h(d)}return void 0===l&&(l=setTimeout(p,o)),c}return o=an(o)||0,sn(e)&&(f=!!e.leading,m="maxWait"in e,a=m?tn(an(e.maxWait)||0,o):a,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==l&&clearTimeout(l),r=d=s=l=void(u=0)},n.flush=function(){return void 0===l?c:g(on())},n}function sn(e){var t=typeof e;return e&&("object"==t||"function"==t)}function an(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||!!(n=t)&&"object"==typeof n&&en.call(t)==Vt)return Yt;var t,n,i;if(sn(e)&&(e=sn(i="function"==typeof e.valueOf?e.valueOf():e)?i+"":i),"string"!=typeof e)return 0===e?e:+e;e=e.replace(Kt,"");var o=Qt.test(e);return o||$t.test(e)?Gt(e.slice(2),o?2:8):Rt.test(e)?Yt:+e}var cn=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(Ut);return sn(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),rn(e,t,{leading:i,maxWait:t,trailing:o})},ln=n("fact-bar"),dn=document.querySelectorAll(".fact-bar"),un=cn(mn,100),fn=0;function mn(){ln("throttleing"),dn.forEach(function(e){var t,n;!0===N.isElementInViewport(e)&&!1===e.classList.contains("fact-bar--active")&&(t=e.querySelector(".fact-bar__bar"),n=0,t&&(n=parseInt(t.dataset.percentage,10)),e.classList.add("fact-bar--active"),fn++,setTimeout(function(){t.style.maxWidth=n+"%"},500))}),fn===dn.length&&window.removeEventListener("scroll",un)}var hn={init:function(){0<dn.length&&(window.addEventListener("scroll",un),a(window).on("load",function(){mn()}))}},vn=document.querySelectorAll(".card a");n("card");var pn={init:function(){vn&&vn.forEach(function(e){e.addEventListener("mouseenter",function(){this.closest(".card").classList.add("is-hovered")}),e.addEventListener("mouseout",function(){this.closest(".card").classList.remove("is-hovered")})})}},gn=document.querySelectorAll(".article-card__link");n("article-card");var yn={init:function(){gn&&gn.forEach(function(e){e.addEventListener("mouseenter",function(){this.closest(".article-card").classList.add("is-hovered")}),e.addEventListener("mouseout",function(){this.closest(".article-card").classList.remove("is-hovered")})})}},bn=document.querySelectorAll(".featured-initiative-card__title__link"),_n=document.querySelectorAll(".featured-initiative-card .btn");n("featured-initiative-card");function wn(e){e.addEventListener("mouseenter",function(){this.closest(".featured-initiative-card ").classList.add("is-hovered")}),e.addEventListener("mouseout",function(){this.closest(".featured-initiative-card ").classList.remove("is-hovered")})}var Ln={init:function(){bn&&bn.forEach(function(e){wn(e)}),_n&&_n.forEach(function(e){wn(e)})}},En=document.querySelectorAll(".event-card__link"),An=document.querySelectorAll(".event-card__image-link");n("event-card");function Sn(e){e.addEventListener("mouseenter",function(){this.closest(".event-card ").classList.add("is-hovered")}),e.addEventListener("mouseout",function(){this.closest(".event-card ").classList.remove("is-hovered")})}var kn={init:function(){En&&En.forEach(function(e){Sn(e)}),An&&An.forEach(function(e){Sn(e)})}},xn=document.querySelectorAll(".listing-card__title__link, .listing-card__image");n("listing-card");var Tn={init:function(){xn&&xn.forEach(function(e){e.addEventListener("mouseenter",function(){this.closest(".listing-card").classList.add("is-hovered")}),e.addEventListener("mouseout",function(){this.closest(".listing-card").classList.remove("is-hovered")})})}},qn=document.querySelectorAll(".grid-card__image-link, .grid-card__link");n("card");var jn={init:function(){qn&&qn.forEach(function(e){e.addEventListener("mouseenter",function(){this.closest(".grid-card").classList.add("is-hovered")}),e.addEventListener("mouseout",function(){this.closest(".grid-card").classList.remove("is-hovered")})})}},Cn=a('[data-slider="three-across"]'),zn=!1,On=a("body");n("sliders:three-across");function In(){Cn=a('[data-slider="three-across"]'),Bn()}function Bn(){Cn.each(function(){var e=a(this);"region"!==e.attr("role")&&On.width()<1024&&e.slick({dots:!0,mobileFirst:!0,speed:500,touchThreshold:20,infinite:!1,variableWidth:!0,slidesToShow:1,arrows:!1,responsive:[{breakpoint:1024,settings:"unslick"}]}),!1===zn&&(u.addMedium(In),u.addSmall(In),zn=!0)})}var Hn={init:function(){Cn.length&&Bn()}},Wn=a('[data-slider="center-to-edge"]');n("sliders:center-to-edge");var Mn={init:function(){Wn.length&&Wn.each(function(){var e=a(this),t=e.next(".penn-priorities__arrows"),n=e.slick({dots:!0,mobileFirst:!0,speed:500,infinite:!1,variableWidth:!1,slidesToShow:1,arrows:!1,slidesToScroll:1,touchThreshold:20,responsive:[{breakpoint:676,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0,centerMode:!0,variableWidth:!0,arrows:!0,appendArrows:t}}]});window.upennsliders.push(n),a(t).detach().appendTo(e)})}},Pn=a('[data-slider="single-small"]'),Fn=!1,Nn=a("body");n("sliders:single-small");function Dn(){Pn=a('[data-slider="single-small"]'),Un()}function Un(){Pn.each(function(){var e=a(this);"region"!==e.attr("role")&&Nn.width()<1024&&e.slick({dots:!0,mobileFirst:!0,speed:500,infinite:!1,arrows:!1,responsive:[{breakpoint:1023,settings:"unslick"},{breakpoint:690,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:639,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),!1===Fn&&(u.addMedium(Dn),u.addSmall(Dn),Fn=!0)})}var Yn={init:function(){Pn.length&&Un()}},Vn=a('[data-slider="gallery"]');n("sliders:gallery");function Kn(e,t){var n=e.find("img").height();t.css("top",n+40)}var Rn={init:function(){Vn.length&&Vn.each(function(){var e,i=a(this),t=i.attr("role"),n=(i.find(".gallery-card__button"),i.closest(".gallery-slider")),o=n.find(".gallery__navigation"),r=n.find(".gallery__arrows"),s=n.find(".gallery__dots");"region"!==t&&(e=i.slick({slidesToShow:1,infinite:!0,dots:!0,appendDots:s,arrows:!0,appendArrows:r,draggable:!0,touchThreshold:20,adaptiveHeight:!1}),n.addClass("gallery-slider--active"),setTimeout(function(){Kn(i.find(".slick-current"),o)},100),e.on("afterChange",function(e,t,n){Kn(i.find('[data-slick-index="'+n+'"]'),o)}),a(window).on("resize",function(){setTimeout(function(){Kn(i.find(".slick-current"),o)},100)}))})}},Qn=a('[data-slider="two-across"]');a("body"),n("sliders:two-across");var $n={init:function(){Qn.length&&Qn.each(function(){var e=a(this);"region"!==e.attr("role")&&e.slick({dots:!0,speed:500,slidesToShow:2,arrows:!1,responsive:[{breakpoint:640,settings:{slidesToShow:1}}]})})}},Gn=a('[data-slider="single"]');a("body"),n("sliders:single-small");var Xn={init:function(){Gn.length&&Gn.each(function(){var e=a(this);"region"!==e.attr("role")&&e.slick({dots:!0,mobileFirst:!0,speed:500,infinite:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,fade:!0})})}},Jn=a('[data-slider="single-image"]');a("body"),n("sliders:single-image");var Zn={init:function(){Jn.length&&Jn.each(function(){var e=a(this),t=e.attr("role"),n=a(this).find('[data-direction="prev"]'),i=a(this).find('[data-direction="next"]'),o="";"region"!==t&&(o=e.slick({dots:!1,mobileFirst:!0,speed:500,infinite:!0,arrows:!1,slidesToShow:1,slidesToScroll:1})),n.on("click",function(){o.slick("slickPrev")}),i.on("click",function(){o.slick("slickNext")})})}},ei=a('[data-slider="three-across-cards"]');a("body"),n("sliders:three-across-cards");function ti(){var e=this;document.addEventListener("DOMContentLoaded",function(){return e.ready()}),window.addEventListener("load",function(){return e.load()})}var ni={init:function(){ei.length&&ei.each(function(){var e,t=a(this);"region"!==t.attr("role")&&(e=t.slick({dots:!0,speed:500,slidesToShow:3,slidesToScroll:3,arrows:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]}),window.upennsliders.push(e))})}};n("site");return ti.prototype.ready=function(){var e=n("site:domReady");G.init(),window.upennsliders=[],c.init(),e("document.DOMContentLoaded"),$e.init(),M.init(),u.init(),st.init(),s(),Ze.init(),nt.init(),mt.init(),gt.init(),wt.init(),xt.init(),Wt.init(),Dt.init(),hn.init(),pn.init(),yn.init(),Ln.init(),kn.init(),Tn.init(),jn.init(),Hn.init(),Mn.init(),Yn.init(),Rn.init(),$n.init(),Xn.init(),Zn.init(),ni.init()},ti.prototype.load=function(){n("site:windowLoad")("window.onload"),x()},ti});
